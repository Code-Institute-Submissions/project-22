<!DOCTYPE html>
<html lang="en">
  {% extends 'base.html' %} {% block title %}Forgot Password{% endblock %} {%
  block content %}
  <div class="container form-surround center-align">
    <h2>Forgot Password</h2>
    <p>Submit the form an we'll email a link for you to reset your password.</p>
    <div class="row">
      <form id="contact-form" class="col s12">
        <div class="row">
          <div class="input-field col s8 offset-s2">
            <input id="email" name="email" type="email" class="validate" />
            <label for="email">Email</label>
          </div>
        </div>
        <button
          class="btn waves-effect waves-light"
          type="submit"
          name="action"
        >
          Send
          <i class="material-icons right">send</i>
        </button>
      </form>
    </div>
    <div class="row">
      <div class="col s2 offset-s4">
        <p>Click here to <a href="{{ url_for('login') }}">Login</a></p>
      </div>
      <div class="col s2">
        <p>Click here to <a href="{{ url_for('register') }}">Join Up</a></p>
      </div>
    </div>
  </div>
  <!--Emailjs link for forgot password functionality-->
  <script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"
  ></script>
  <script type="text/javascript">
    (function () {
      emailjs.init("user_LiY6iTPtiqqx7R7V0sPui");
      console.log("emailjsinit");
    })();
  </script>

  <script type="text/javascript">
    window.onload = function () {
      document
        .getElementById("contact-form")
        .addEventListener("submit", function (event) {
          console.log("event listener fired");
          event.preventDefault();
          var template_params = {
            email: "email",
            
          };

          var service_id = "default_service";
          var template_id = "forgot_password";
          emailjs.send(service_id, template_id, template_params);
        });
    };
  </script>
  {% endblock %}
</html>
