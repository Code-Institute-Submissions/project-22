<!DOCTYPE html>
<html lang="en">
  {% extends 'base.html' %} {% block content %}
  <section class="container">
    <div class="center-align">
      <h3 class="intro">
        {% if 'user' in session %}<span>"{{session.user.title()}}{% endif %}'s"</span> puzzles
      </h3>
      <a
        href="{{url_for('upload_puzzle')}}"
        class="waves-effect waves-light btn-large"
        ><i class="material-icons right">send</i>Upload a puzzle</a
      >
    </div>
  </section>
  <section class="container">
    <div class="row">
      {% for puzzle in puzzles %}
      <div class="col s6 m4 l2">
        <div class="card medium">
          <div class="card-image waves-effect waves-block waves-light">
            <img class="activator" src="{{puzzle.image}}" />
          </div>
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4"
              >Answer<i class="material-icons right">more_vert</i></span
            >
            <p class="left-align">
              Difficulty: {{puzzle.difficulty.capitalize()}}
            </p>
            <p class="left-align">Contributer:</p>
            <p class="left-align">{{puzzle.added_by.title()}}</p>
          </div>
          <div>          
            <a href="{{url_for('edit_puzzle', puzzle_id=puzzle._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>
            <a href="{{url_for('delete_puzzle', puzzle_id=puzzle._id)}}" class="waves-effect waves-light btn btn_small red">Delete</a>   
          </div>
          <div class="card-reveal">
            <span class="card-title grey-text text-darken-4"
              >Answer<i class="material-icons right">close</i></span
            >
            <h5 class="left-align">
              {{puzzle.answer.title()}}
            </h5>
          </div>
        </div>
      </div>

      {% endfor %}
    </div>
  </section>
  {% endblock %}
</html>
